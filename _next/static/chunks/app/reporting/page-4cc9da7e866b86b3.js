(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{3998:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(95155),r=a(12115),n=a(32467),l=a(83101),i=a(64269);let c=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:d=!1,...o}=e,m=d?n.DX:"button";return(0,t.jsx)(m,{className:(0,i.cn)(c({variant:r,size:l,className:a})),ref:s,...o})});d.displayName="Button"},10640:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>$});var t=a(95155),r=a(12115),n=a(86948),l=a(3998),i=a(13406),c=a(11647),d=a(89559),o=a(80534),m=a(39867),x=a(1524),h=a(66955),u=a(16485),p=a(31607),f=a(23258);function j(e){let{data:s,type:a,title:r,height:n=300}=e,l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!!r,text:r}}};return 0===s.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-500",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-lg font-medium",children:"No data available"}),(0,t.jsx)("div",{className:"text-sm",children:"Run some analyses to see visualizations"})]})}):(0,t.jsxs)("div",{style:{height:"".concat(n,"px")},children:["distribution"===a&&(()=>{let e={"Excellent (80-100%)":0,"Good (60-79%)":0,"Fair (40-59%)":0,"Poor (0-39%)":0};s.forEach(s=>{let a=s.complianceScore;a>=80?e["Excellent (80-100%)"]++:a>=60?e["Good (60-79%)"]++:a>=40?e["Fair (40-59%)"]++:e["Poor (0-39%)"]++});let a={labels:Object.keys(e),datasets:[{data:Object.values(e),backgroundColor:["#10b981","#f59e0b","#f97316","#ef4444"],borderColor:["#059669","#d97706","#ea580c","#dc2626"],borderWidth:1}]};return(0,t.jsx)(f.nu,{data:a,options:l,height:n})})(),"timeline"===a&&(()=>{let e=s.reduce((e,s)=>{let a=s.analysisDate.toISOString().split("T")[0];return e[a]||(e[a]={total:0,count:0}),e[a].total+=s.complianceScore,e[a].count+=1,e},{}),a=Object.keys(e).sort(),r=a.map(s=>Math.round(e[s].total/e[s].count)),i={labels:a.map(e=>new Date(e).toLocaleDateString()),datasets:[{label:"Average Compliance Score",data:r,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.1,fill:!0}]},c={...l,scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"}}}}};return(0,t.jsx)(f.N1,{data:i,options:c,height:n})})(),"comparison"===a&&(()=>{let e=[...s].sort((e,s)=>s.complianceScore-e.complianceScore).slice(0,10),a={labels:e.map(e=>e.repositoryName.length>20?e.repositoryName.substring(0,20)+"...":e.repositoryName),datasets:[{label:"Compliance Score",data:e.map(e=>e.complianceScore),backgroundColor:e.map(e=>{let s=e.complianceScore;return s>=80?"#10b981":s>=60?"#f59e0b":s>=40?"#f97316":"#ef4444"}),borderColor:e.map(e=>{let s=e.complianceScore;return s>=80?"#059669":s>=60?"#d97706":s>=40?"#ea580c":"#dc2626"}),borderWidth:1}]},r={...l,scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"}}}},plugins:{...l.plugins,tooltip:{callbacks:{label:function(e){return"".concat(e.dataset.label,": ").concat(e.parsed.y,"%")}}}}};return(0,t.jsx)(f.yP,{data:a,options:r,height:n})})()]})}p.t1.register(p.PP,p.kc,p.E8,p.hE,p.m_,p.s$,p.Bs,p.FN,p.No);var g=a(26921),v=a(7125);function y(e){let{data:s,timeRange:a}=e,r=(()=>{if(s.length<2)return{direction:"stable",change:0};let e=s.slice(-7),a=s.slice(-14,-7);if(0===e.length||0===a.length)return{direction:"stable",change:0};let t=e.reduce((e,s)=>e+s.complianceScore,0)/e.length-a.reduce((e,s)=>e+s.complianceScore,0)/a.length;return 1>Math.abs(t)?{direction:"stable",change:0}:{direction:t>0?"up":"down",change:Math.abs(t)}})(),l={labels:s.map(e=>new Date(e.date).toLocaleDateString()),datasets:[{label:"Compliance Score",data:s.map(e=>e.complianceScore),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.1,fill:!0,yAxisID:"y"},{label:"Analysis Count",data:s.map(e=>e.analysisCount),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.1,fill:!1,yAxisID:"y1"}]},i={labels:s.map(e=>new Date(e.date).toLocaleDateString()),datasets:[{label:"Daily Analyses",data:s.map(e=>e.analysisCount),backgroundColor:"#3b82f6",borderColor:"#1d4ed8",borderWidth:1}]};return 0===s.length?(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 mx-auto text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No trend data available"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Run more analyses to see compliance trends"})]})})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Trend Direction"}),(()=>{switch(r.direction){case"up":return(0,t.jsx)(x.A,{className:"h-4 w-4 text-green-600"});case"down":return(0,t.jsx)(g.A,{className:"h-4 w-4 text-red-600"});default:return(0,t.jsx)(v.A,{className:"h-4 w-4 text-gray-600"})}})()]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold ".concat((()=>{switch(r.direction){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})()),children:"stable"===r.direction?"Stable":"up"===r.direction?"Improving":"Declining"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:r.change>0&&"".concat(r.change.toFixed(1),"% change")})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Average Score"}),(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[s.length>0?Math.round(s.reduce((e,s)=>e+s.complianceScore,0)/s.length):0,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Over ",a]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Analyses"}),(0,t.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.reduce((e,s)=>e+s.analysisCount,0)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["In ",a]})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Compliance Score Trends"}),(0,t.jsx)(n.BT,{children:"Track compliance scores and analysis volume over time"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{style:{height:"400px"},children:(0,t.jsx)(f.N1,{data:l,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!0,text:"Compliance Score and Analysis Volume Trends"}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Compliance Score (%)"},min:0,max:100},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Analysis Count"},grid:{drawOnChartArea:!1}}}}})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Analysis Volume"}),(0,t.jsx)(n.BT,{children:"Daily analysis activity over the selected time period"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{style:{height:"300px"},children:(0,t.jsx)(f.yP,{data:i,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Analysis Volume Over Time"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Analyses"}}}}})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Trend Insights"}),(0,t.jsx)(n.BT,{children:"Key observations from your compliance trends"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:["up"===r.direction&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-green-800",children:"Improving Compliance"}),(0,t.jsxs)("div",{className:"text-sm text-green-700",children:["Your compliance scores have improved by ",r.change.toFixed(1),"% recently. Keep up the good work!"]})]})]}),"down"===r.direction&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-red-800",children:"Declining Compliance"}),(0,t.jsxs)("div",{className:"text-sm text-red-700",children:["Your compliance scores have decreased by ",r.change.toFixed(1),"% recently. Consider reviewing recent changes."]})]})]}),"stable"===r.direction&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-blue-800",children:"Stable Performance"}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Your compliance scores have remained consistent. This indicates stable development practices."})]})]}),s.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:"Analysis Activity"}),(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["You've run ",s.reduce((e,s)=>e+s.analysisCount,0)," analyses over ",s.length," days, averaging"," ",Math.round(s.reduce((e,s)=>e+s.analysisCount,0)/s.length),"analyses per day."]})]})]})]})})]})]})}p.t1.register(p.PP,p.kc,p.FN,p.No,p.hE,p.m_,p.s$,p.E8);var b=a(38162),N=a(5917),w=a(64269);let A=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.bL,{ref:s,className:(0,w.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(b.C1,{className:(0,w.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(N.A,{className:"h-4 w-4"})})})});A.displayName=b.bL.displayName;var C=a(11186),S=a(86259),D=a(89715),k=a(15870),R=a(35299),F=a(42529),T=a(55172);function P(e){let{dashboardData:s,timeRange:a,organizationId:i,selectedAnalyses:d,onAnalysisSelectionChange:x}=e,[h,u]=(0,r.useState)(!1),[p,f]=(0,r.useState)({includeOverview:!0,includeTrends:!0,includeAnalyses:!0,includeIssues:!0,includeCharts:!1,format:"summary",orientation:"portrait"}),j=async()=>{try{u(!0);let e=new T.Ay({orientation:p.orientation,unit:"mm",format:"a4"}),t=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight(),n=20,l=function(s,a,t,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12;e.setFontSize(n);let l=e.splitTextToSize(s,r);return e.text(l,a,t),t+l.length*n*.35},i=s=>{n+s>r-20&&(e.addPage(),n=20)};if(e.setFontSize(24),e.setFont("helvetica","bold"),e.text("Baseline Analysis Report",t/2,n,{align:"center"}),n+=15,e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Generated on ".concat(new Date().toLocaleDateString()),t/2,n,{align:"center"}),n+=10,e.text("Time Range: ".concat(a),t/2,n,{align:"center"}),n+=20,p.includeOverview){i(40),e.setFontSize(18),e.setFont("helvetica","bold"),n=l("Executive Summary",20,n,t-40,18)+5,e.setFontSize(12),e.setFont("helvetica","normal");let r="This report provides an analysis of ".concat(s.totalAnalyses," repository analyses conducted over the ").concat(a,". The average compliance score across all analyses is ").concat(Math.round(s.averageCompliance),"%.");n=l(r,20,n,t-40)+10,e.setFontSize(14),e.setFont("helvetica","bold"),n=l("Key Metrics",20,n,t-40,14)+5,e.setFontSize(12),e.setFont("helvetica","normal"),n=l("• Total Analyses: ".concat(s.totalAnalyses),25,n,t-40),n=l("• Average Compliance Score: ".concat(Math.round(s.averageCompliance),"%"),25,n,t-40),n=l("• Issues Identified: ".concat(s.topIssues.length," categories"),25,n,t-40)+15}if(p.includeIssues&&s.topIssues.length>0&&(i(60),e.setFontSize(16),e.setFont("helvetica","bold"),n=l("Common Issues",20,n,t-40,16)+10,e.setFontSize(12),e.setFont("helvetica","normal"),s.topIssues.forEach((e,s)=>{i(15);let a="".concat(s+1,". ").concat(e.category," (").concat(e.severity," severity) - ").concat(e.count," occurrences");n=l(a,25,n,t-40)}),n+=15),p.includeAnalyses){i(60),e.setFontSize(16),e.setFont("helvetica","bold"),n=l("Analysis Results",20,n,t-40,16)+10;let a=d.length>0?s.recentAnalyses.filter(e=>d.includes(e.id)):s.recentAnalyses;e.setFontSize(12),e.setFont("helvetica","normal"),a.forEach((s,a)=>{i(20),e.setFont("helvetica","bold"),n=l("".concat(a+1,". ").concat(s.repositoryName),25,n,t-40),e.setFont("helvetica","normal"),n=l("   Compliance Score: ".concat(s.complianceScore,"%"),30,n,t-40),n=l("   Analysis Date: ".concat(s.analysisDate.toLocaleDateString()),30,n,t-40),n=l("   Status: ".concat(s.status),30,n,t-40)+5}),n+=10}if(p.includeTrends&&s.trendsData.length>0){i(40),e.setFontSize(16),e.setFont("helvetica","bold"),n=l("Compliance Trends",20,n,t-40,16)+10,e.setFontSize(12),e.setFont("helvetica","normal");let a="Based on ".concat(s.trendsData.length," data points, the compliance trends show the evolution of your baseline compliance over time.");if(n=l(a,20,n,t-40)+10,s.trendsData.length>=2){let e=s.trendsData.slice(-3),a=s.trendsData.slice(0,3);if(e.length>0&&a.length>0){let s=e.reduce((e,s)=>e+s.complianceScore,0)/e.length,r=a.reduce((e,s)=>e+s.complianceScore,0)/a.length,i=s-r,c="";c=1>Math.abs(i)?"Your compliance scores have remained stable over the analyzed period.":i>0?"Your compliance scores have improved by ".concat(i.toFixed(1),"% on average."):"Your compliance scores have decreased by ".concat(Math.abs(i).toFixed(1),"% on average."),n=l(c,20,n,t-40)}}n+=15}let c=e.getNumberOfPages();for(let s=1;s<=c;s++)e.setPage(s),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Page ".concat(s," of ").concat(c," - Generated by Baseline Analyzer"),t/2,r-10,{align:"center"});let o="baseline-analysis-report-".concat(new Date().toISOString().split("T")[0],".pdf");e.save(o)}catch(e){console.error("Failed to generate PDF:",e),alert("Failed to generate PDF report. Please try again.")}finally{u(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(D.A,{className:"h-5 w-5"}),"PDF Report Generator"]}),(0,t.jsx)(n.BT,{children:"Generate comprehensive PDF reports of your baseline analysis data"})]}),(0,t.jsxs)(n.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(k.A,{className:"h-4 w-4"}),"Report Configuration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Include Sections"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"overview",checked:p.includeOverview,onCheckedChange:e=>f(s=>({...s,includeOverview:!!e}))}),(0,t.jsx)("label",{htmlFor:"overview",className:"text-sm",children:"Executive Summary"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"trends",checked:p.includeTrends,onCheckedChange:e=>f(s=>({...s,includeTrends:!!e}))}),(0,t.jsx)("label",{htmlFor:"trends",className:"text-sm",children:"Compliance Trends"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"analyses",checked:p.includeAnalyses,onCheckedChange:e=>f(s=>({...s,includeAnalyses:!!e}))}),(0,t.jsx)("label",{htmlFor:"analyses",className:"text-sm",children:"Analysis Results"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"issues",checked:p.includeIssues,onCheckedChange:e=>f(s=>({...s,includeIssues:!!e}))}),(0,t.jsx)("label",{htmlFor:"issues",className:"text-sm",children:"Common Issues"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Format Options"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Report Type"}),(0,t.jsxs)(C.l6,{value:p.format,onValueChange:e=>f(s=>({...s,format:e})),children:[(0,t.jsx)(C.bq,{className:"w-full mt-1",children:(0,t.jsx)(C.yv,{})}),(0,t.jsxs)(C.gC,{children:[(0,t.jsx)(C.eb,{value:"summary",children:"Summary Report"}),(0,t.jsx)(C.eb,{value:"detailed",children:"Detailed Report"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Orientation"}),(0,t.jsxs)(C.l6,{value:p.orientation,onValueChange:e=>f(s=>({...s,orientation:e})),children:[(0,t.jsx)(C.bq,{className:"w-full mt-1",children:(0,t.jsx)(C.yv,{})}),(0,t.jsxs)(C.gC,{children:[(0,t.jsx)(C.eb,{value:"portrait",children:"Portrait"}),(0,t.jsx)(C.eb,{value:"landscape",children:"Landscape"})]})]})]})]})]})]}),(0,t.jsx)(S.w,{}),p.includeAnalyses&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"Select Analyses to Include"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"select-all",checked:d.length===s.recentAnalyses.length,onCheckedChange:e=>{e?x(s.recentAnalyses.map(e=>e.id)):x([])}}),(0,t.jsxs)("label",{htmlFor:"select-all",className:"text-sm font-medium",children:["Select All (",s.recentAnalyses.length," analyses)"]})]}),(0,t.jsxs)(c.E,{variant:"secondary",children:[d.length," selected"]})]}),(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-lg p-3",children:s.recentAnalyses.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:e.id,checked:d.includes(e.id),onCheckedChange:s=>{var a;return a=e.id,void(s?x([...d,a]):x(d.filter(e=>e!==a)))}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.repositoryName}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:e.analysisDate.toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-sm",children:[e.complianceScore,"%"]}),(0,t.jsx)(c.E,{variant:"COMPLETED"===e.status?"default":"secondary",className:"text-xs",children:e.status})]})]},e.id))})]})]}),(0,t.jsx)(S.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Report will include data from the last ",a]}),(0,t.jsxs)(l.$,{onClick:j,disabled:h,className:"flex items-center gap-2",children:[h?(0,t.jsx)(R.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(m.A,{className:"h-4 w-4"}),h?"Generating...":"Generate PDF Report"]})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Report Preview"}),(0,t.jsx)(n.BT,{children:"Preview of what will be included in your PDF report"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[p.includeOverview&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Executive Summary with key metrics"})]}),p.includeTrends&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Compliance trends analysis"})]}),p.includeAnalyses&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:d.length>0?"".concat(d.length," selected analyses"):"All ".concat(s.recentAnalyses.length," analyses")})]}),p.includeIssues&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Common issues and recommendations"})]})]})})]})]})}var E=a(65142),Z=a(17181),B=a(50859),I=a(26983),L=a(57828),z=a(75426),O=a(93499),W=a(23664),U=a(71360);function M(e){let{dashboardData:s,timeRange:a,organizationId:i}=e,[d,o]=(0,r.useState)([]),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)({title:"Baseline Analysis Report - ".concat(new Date().toLocaleDateString()),includeData:{overview:!0,trends:!0,analyses:!0,issues:!0},access:{isPublic:!1,requireAuth:!0,allowDownload:!0},expiration:"30d"});r.useEffect(()=>{f()},[i]);let f=async()=>{try{let e=new URLSearchParams({...i&&{organizationId:i}}),s=await fetch("/api/reporting/shared?".concat(e));if(s.ok){let e=await s.json();o(e.map(e=>({...e,createdAt:new Date(e.createdAt),expiresAt:new Date(e.expiresAt)})))}}catch(e){console.error("Failed to load shared reports:",e)}},j=async()=>{try{x(!0);let e=await fetch("/api/reporting/shared",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,timeRange:a,organizationId:i,dashboardData:s})});if(!e.ok)throw Error("Failed to create shared report");let t=await e.json();o(e=>[{...t,createdAt:new Date(t.createdAt),expiresAt:new Date(t.expiresAt)},...e]),await navigator.clipboard.writeText(t.url),alert("Shared report created and URL copied to clipboard!")}catch(e){console.error("Failed to create shared report:",e),alert("Failed to create shared report. Please try again.")}finally{x(!1)}},g=async e=>{try{await navigator.clipboard.writeText(e),alert("URL copied to clipboard!")}catch(e){console.error("Failed to copy URL:",e)}},v=async e=>{try{(await fetch("/api/reporting/shared/".concat(e),{method:"DELETE"})).ok&&o(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to delete shared report:",e)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-5 w-5"}),"Create Shared Report"]}),(0,t.jsx)(n.BT,{children:"Generate a secure, shareable link to your analysis dashboard"})]}),(0,t.jsxs)(n.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Report Title"}),(0,t.jsx)(E.p,{value:h.title,onChange:e=>p(s=>({...s,title:e.target.value})),placeholder:"Enter report title",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Include Data"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"include-overview",checked:h.includeData.overview,onCheckedChange:e=>p(s=>({...s,includeData:{...s.includeData,overview:!!e}}))}),(0,t.jsx)("label",{htmlFor:"include-overview",className:"text-sm",children:"Overview & Metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"include-trends",checked:h.includeData.trends,onCheckedChange:e=>p(s=>({...s,includeData:{...s.includeData,trends:!!e}}))}),(0,t.jsx)("label",{htmlFor:"include-trends",className:"text-sm",children:"Compliance Trends"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"include-analyses",checked:h.includeData.analyses,onCheckedChange:e=>p(s=>({...s,includeData:{...s.includeData,analyses:!!e}}))}),(0,t.jsx)("label",{htmlFor:"include-analyses",className:"text-sm",children:"Analysis Results"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"include-issues",checked:h.includeData.issues,onCheckedChange:e=>p(s=>({...s,includeData:{...s.includeData,issues:!!e}}))}),(0,t.jsx)("label",{htmlFor:"include-issues",className:"text-sm",children:"Common Issues"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Access Control"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"public-access",checked:h.access.isPublic,onCheckedChange:e=>p(s=>({...s,access:{...s.access,isPublic:!!e}}))}),(0,t.jsx)("label",{htmlFor:"public-access",className:"text-sm",children:"Public Access"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"require-auth",checked:h.access.requireAuth,onCheckedChange:e=>p(s=>({...s,access:{...s.access,requireAuth:!!e}}))}),(0,t.jsx)("label",{htmlFor:"require-auth",className:"text-sm",children:"Require Authentication"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"allow-download",checked:h.access.allowDownload,onCheckedChange:e=>p(s=>({...s,access:{...s.access,allowDownload:!!e}}))}),(0,t.jsx)("label",{htmlFor:"allow-download",className:"text-sm",children:"Allow Downloads"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Expiration"}),(0,t.jsxs)(C.l6,{value:h.expiration,onValueChange:e=>p(s=>({...s,expiration:e})),children:[(0,t.jsx)(C.bq,{className:"w-full mt-1",children:(0,t.jsx)(C.yv,{})}),(0,t.jsxs)(C.gC,{children:[(0,t.jsx)(C.eb,{value:"1d",children:"1 Day"}),(0,t.jsx)(C.eb,{value:"7d",children:"7 Days"}),(0,t.jsx)(C.eb,{value:"30d",children:"30 Days"}),(0,t.jsx)(C.eb,{value:"never",children:"Never"})]})]})]})]})]})]}),(0,t.jsx)(S.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Expires: ","never"===h.expiration?"Never":(e=>{let s=new Date;switch(e){case"1d":return new Date(s.getTime()+864e5);case"7d":return new Date(s.getTime()+6048e5);case"30d":default:return new Date(s.getTime()+2592e6);case"never":return new Date("2099-12-31")}})(h.expiration).toLocaleDateString()]}),(0,t.jsxs)(l.$,{onClick:j,disabled:m,className:"flex items-center gap-2",children:[(0,t.jsx)(B.A,{className:"h-4 w-4"}),m?"Creating...":"Create Shared Link"]})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Shared Reports"}),(0,t.jsx)(n.BT,{children:"Manage your existing shared report links"})]}),(0,t.jsx)(n.Wu,{children:0===d.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(Z.A,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{children:"No shared reports yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Create your first shared report above"})]}):(0,t.jsx)("div",{className:"space-y-4",children:d.map(e=>{let s;return(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsx)(c.E,{variant:e.isPublic?"default":"secondary",children:e.isPublic?"Public":"Private"}),(s=e.expiresAt,new Date>s&&(0,t.jsx)(c.E,{variant:"destructive",children:"Expired"}))]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 space-y-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"h-3 w-3"}),"Created: ",e.createdAt.toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(I.A,{className:"h-3 w-3"}),"Expires: ",e.expiresAt.toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(L.A,{className:"h-3 w-3"}),"Views: ",e.accessCount]})]})}),(0,t.jsx)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm font-mono break-all",children:e.url})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>g(e.url),className:"flex items-center gap-1",children:[(0,t.jsx)(z.A,{className:"h-3 w-3"}),"Copy"]}),(0,t.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-1",children:[(0,t.jsx)(O.A,{className:"h-3 w-3"}),"Open"]}),(0,t.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>{let s=encodeURIComponent("Baseline Analysis Report: ".concat(e.title)),a=encodeURIComponent("Please find the baseline analysis report at: ".concat(e.url));window.open("mailto:?subject=".concat(s,"&body=").concat(a))},className:"flex items-center gap-1",children:[(0,t.jsx)(W.A,{className:"h-3 w-3"}),"Email"]}),(0,t.jsxs)(l.$,{size:"sm",variant:"destructive",onClick:()=>v(e.id),className:"flex items-center gap-1 ml-auto",children:[(0,t.jsx)(U.A,{className:"h-3 w-3"}),"Delete"]})]})]},e.id)})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"Sharing Tips"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Public Access:"})," Anyone with the link can view the report without authentication"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Private Access:"})," Viewers must be authenticated users in your organization"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Expiration:"})," Links automatically expire based on your settings for security"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Download Control:"})," You can allow or prevent viewers from downloading reports"]})]})]})})]})]})}function q(e){let{organizationId:s,userId:a}=e,[p,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(!0),[b,N]=(0,r.useState)(null),[w,A]=(0,r.useState)("30d"),[C,S]=(0,r.useState)([]);(0,r.useEffect)(()=>{D()},[w,s,a]);let D=async()=>{try{v(!0),N(null);let e=new URLSearchParams({timeRange:w,...s&&{organizationId:s},...a&&{userId:a}}),t=await fetch("/api/reporting/dashboard?".concat(e));if(!t.ok)throw Error("Failed to load dashboard data");let r=await t.json();f(r)}catch(e){console.error("Failed to load reporting dashboard data",e),N("Failed to load dashboard")}finally{v(!1)}},k=async e=>{if(p)try{let t=new URLSearchParams({format:e,timeRange:w,...s&&{organizationId:s},...a&&{userId:a},...C.length>0&&{analyses:C.join(",")}}),r=await fetch("/api/reporting/export?".concat(t));if(!r.ok)throw Error("Failed to export report");let n=await r.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download="baseline-analysis-report-".concat(new Date().toISOString().split("T")[0],".").concat(e),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)}catch(e){console.error("Failed to export report:",e)}};return g?(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})}):b?(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 mx-auto text-red-400"}),(0,t.jsx)("p",{className:"text-red-600",children:b}),(0,t.jsxs)(l.$,{onClick:D,variant:"outline",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]})})}):p?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Reporting Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Analyze trends and generate reports for baseline compliance"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"sr-only",htmlFor:"reporting-time-range",children:"Time range"}),(0,t.jsxs)("select",{id:"reporting-time-range","data-testid":"time-range-select",value:w,onChange:e=>A(e.target.value),className:"flex h-10 w-32 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,t.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,t.jsx)("option",{value:"1y",children:"Last year"})]}),(0,t.jsxs)(l.$,{onClick:()=>k("pdf"),variant:"outline",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Analyses"}),(0,t.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"metric-total-analyses",children:p.totalAnalyses}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["In the last ",w]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Average Compliance"}),(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold","data-testid":"metric-average-compliance",children:[Math.round(p.averageCompliance),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Baseline compliance score"})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Top Issues"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"metric-top-issues",children:p.topIssues.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Categories identified"})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Recent Activity"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"metric-recent-analyses",children:p.recentAnalyses.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recent analyses"})]})]})]}),(0,t.jsxs)(i.tU,{defaultValue:"overview",className:"w-full",children:[(0,t.jsxs)(i.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(i.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(i.Xi,{value:"trends",children:"Trends"}),(0,t.jsx)(i.Xi,{value:"reports",children:"Reports"}),(0,t.jsx)(i.Xi,{value:"sharing",children:"Sharing"})]}),(0,t.jsxs)(i.av,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Compliance Score Distribution"}),(0,t.jsx)(n.BT,{children:"Distribution of compliance scores across all analyses"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(j,{data:p.recentAnalyses,type:"distribution"})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Most Common Issues"}),(0,t.jsx)(n.BT,{children:"Issues found across all repository analyses"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:p.topIssues.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{variant:"high"===e.severity?"destructive":"medium"===e.severity?"default":"secondary",children:e.severity}),(0,t.jsx)("span",{className:"font-medium",children:e.category})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.count," occurrences"]})]},s))})})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Recent Analyses"}),(0,t.jsx)(n.BT,{children:"Latest repository analyses and their compliance scores"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:p.recentAnalyses.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.repositoryName}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.analysisDate.toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{variant:"COMPLETED"===e.status?"default":"secondary",children:e.status}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-lg",children:[e.complianceScore,"%"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"compliance"})]})]})]},e.id))})})]})]}),(0,t.jsx)(i.av,{value:"trends",className:"space-y-6",children:(0,t.jsx)(y,{data:p.trendsData,timeRange:w})}),(0,t.jsx)(i.av,{value:"reports",className:"space-y-6",children:(0,t.jsx)(P,{dashboardData:p,timeRange:w,organizationId:s,selectedAnalyses:C,onAnalysisSelectionChange:S})}),(0,t.jsx)(i.av,{value:"sharing",className:"space-y-6",children:(0,t.jsx)(M,{dashboardData:p,timeRange:w,organizationId:s})})]})]}):null}var V=a(52277);function $(){let{user:e}=(0,V.A)();return(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)(q,{organizationId:null==e?void 0:e.organizationId,userId:null==e?void 0:e.id})})}},11186:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var t=a(95155),r=a(12115),n=a(56685),l=a(24033),i=a(12108),c=a(5917),d=a(64269);let o=n.bL;n.YJ;let m=n.WT,x=r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsxs)(n.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.l9.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});u.displayName=n.wn.displayName;let p=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(u,{})]})})});p.displayName=n.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=n.JU.displayName;let f=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(n.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:r})]})});f.displayName=n.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=n.wv.displayName},11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155);a(12115);var r=a(83101),n=a(64269);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:a}),s),...r})}},13406:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>i});var t=a(95155),r=a(12115),n=a(25667),l=a(64269);let i=n.bL,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=n.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=n.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=n.UC.displayName},52277:(e,s,a)=>{"use strict";a.d(s,{AuthProvider:()=>i,A:()=>l});var t=a(95155),r=a(12115);a(12553),a(52078),a(19708),a(87358);let n=(0,r.createContext)(void 0);function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function i(e){let{children:s}=e,[a,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{l({uid:"demo-user",email:"demo@example.com",displayName:"Demo User"}),c(!1)},[]);let d=async(e,s)=>{},o=async(e,s,a)=>{},m=async()=>{},x=async()=>{},h=async e=>{},u=async()=>{};return(0,t.jsx)(n.Provider,{value:{user:a,loading:i,signIn:d,signUp:o,signInWithGoogle:m,logout:x,resetPassword:h,sendVerificationEmail:u},children:s})}},57062:(e,s,a)=>{Promise.resolve().then(a.bind(a,10640))},64269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var t=a(2821),r=a(75889);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},65142:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(95155),r=a(12115),n=a(64269);let l=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});l.displayName="Input"},86259:(e,s,a)=>{"use strict";a.d(s,{w:()=>i});var t=a(95155),r=a(12115),n=a(57268),l=a(64269);let i=r.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...c}=e;return(0,t.jsx)(n.b,{ref:s,decorative:i,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...c})});i.displayName=n.b.displayName},86948:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>i});var t=a(95155),r=a(12115),n=a(64269);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"}},e=>{e.O(0,[135,965,33,647,930,17,545,295,346,908,201,441,696,358],()=>e(e.s=57062)),_N_E=e.O()}]);