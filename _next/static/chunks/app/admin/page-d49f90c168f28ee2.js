(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{11186:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>p,gC:()=>j,l6:()=>o,yv:()=>m});var r=a(95155),t=a(12115),i=a(56685),l=a(24033),n=a(12108),c=a(5917),d=a(64269);let o=i.bL;i.YJ;let m=i.WT,x=t.forwardRef((e,s)=>{let{className:a,children:t,...n}=e;return(0,r.jsxs)(i.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[t,(0,r.jsx)(i.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=i.l9.displayName;let h=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=i.PP.displayName;let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});u.displayName=i.wn.displayName;let j=t.forwardRef((e,s)=>{let{className:a,children:t,position:l="popper",...n}=e;return(0,r.jsx)(i.ZL,{children:(0,r.jsxs)(i.UC,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,r.jsx)(h,{}),(0,r.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(u,{})]})})});j.displayName=i.UC.displayName,t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t})}).displayName=i.JU.displayName;let p=t.forwardRef((e,s)=>{let{className:a,children:t,...l}=e;return(0,r.jsxs)(i.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.VF,{children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})}),(0,r.jsx)(i.p4,{children:t})]})});p.displayName=i.q7.displayName,t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...t})}).displayName=i.wv.displayName},29141:(e,s,a)=>{Promise.resolve().then(a.bind(a,29869))},29869:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ey});var r=a(95155),t=a(58913),i=a(53635),l=a(12115),n=a(86948),c=a(3998),d=a(65142),o=a(76444),m=a(64269);let x=l.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...t})});x.displayName="Textarea";var h=a(11647),u=a(86259),j=a(27599);let p=l.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(j.bL,{className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...t,ref:s,children:(0,r.jsx)(j.zi,{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});p.displayName=j.bL.displayName;var f=a(18332),g=a(35299),y=a(15870),N=a(52056),v=a(6191),b=a(71360),w=a(91761),C=a(46046);let A={packages:[{id:"starter",name:"Starter Pack",credits:100,price:999,description:"100 credits for small projects"},{id:"professional",name:"Professional Pack",credits:500,price:4499,description:"500 credits for regular use"},{id:"enterprise",name:"Enterprise Pack",credits:2e3,price:15999,description:"2000 credits for large teams"}],freeCredits:10,creditCostPerAnalysis:{base:1,perFile:.1,perKB:.01},usageLimits:{freeUserDailyLimit:5,freeUserMonthlyLimit:20,maxRepositorySize:100,maxFilesPerRepository:1e3},freeTierConfig:{enabled:!0,trialPeriodDays:14,maxAnalysesPerTrial:5,requireCreditCard:!1},realTimeUpdates:{enabled:!0,notifyUsers:!0}};function k(){let[e,s]=(0,l.useState)(A),[t,i]=(0,l.useState)(!0),[m,j]=(0,l.useState)(!1),[,k]=(0,l.useState)(null),[T,P]=(0,l.useState)({}),[R,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{S()},[]);let S=async()=>{try{i(!0);let e=await fetch("/api/admin/pricing");if(!e.ok)throw Error("Failed to fetch pricing configuration");let a=await e.json();s(a.pricingConfig||A)}catch(e){k(e instanceof Error?e.message:"Unknown error"),s(A)}finally{i(!1)}},F=async()=>{if((()=>{let s={};return e.freeCredits<0&&(s.freeCredits="Free credits cannot be negative"),e.creditCostPerAnalysis.base<=0&&(s.baseCost="Base cost must be greater than 0"),e.creditCostPerAnalysis.perFile<0&&(s.perFileCost="Per file cost cannot be negative"),e.creditCostPerAnalysis.perKB<0&&(s.perKBCost="Per KB cost cannot be negative"),e.usageLimits.freeUserDailyLimit<0&&(s.dailyLimit="Daily limit cannot be negative"),e.usageLimits.freeUserMonthlyLimit<e.usageLimits.freeUserDailyLimit&&(s.monthlyLimit="Monthly limit must be greater than or equal to daily limit"),e.usageLimits.maxRepositorySize<=0&&(s.maxRepoSize="Max repository size must be greater than 0"),e.usageLimits.maxFilesPerRepository<=0&&(s.maxFiles="Max files per repository must be greater than 0"),e.packages.forEach((e,a)=>{e.name.trim()||(s["package_".concat(a,"_name")]="Package name is required"),e.credits<=0&&(s["package_".concat(a,"_credits")]="Credits must be greater than 0"),e.price<=0&&(s["package_".concat(a,"_price")]="Price must be greater than 0")}),e.freeTierConfig.trialPeriodDays<=0&&(s.trialPeriod="Trial period must be greater than 0"),e.freeTierConfig.maxAnalysesPerTrial<=0&&(s.maxTrialAnalyses="Max analyses per trial must be greater than 0"),P(s),0===Object.keys(s).length})())try{j(!0);let s=await fetch("/api/admin/pricing",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save configuration")}E(!1),e.realTimeUpdates.notifyUsers&&await fetch("/api/admin/pricing/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:"Pricing configuration has been updated"})});let{toast:r}=await Promise.resolve().then(a.bind(a,18720));r.success("Pricing configuration saved successfully")}catch(s){let{toast:e}=await Promise.resolve().then(a.bind(a,18720));e.error(s instanceof Error?s.message:"Failed to save configuration")}finally{j(!1)}},U=(e,a,r)=>{s(s=>({...s,packages:s.packages.map((s,t)=>t===e?{...s,[a]:r}:s)}))},M=e=>"$".concat((e/100).toFixed(2));return t?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin"})})})}):(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"h-5 w-5"}),"Pricing Configuration"]})}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Basic Settings"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"freeCredits",children:"Free Credits for New Users"}),(0,r.jsx)(d.p,{id:"freeCredits",type:"number",value:e.freeCredits,onChange:e=>s(s=>({...s,freeCredits:parseInt(e.target.value)||0}))})]})})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Credit Cost Calculation"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"baseCost",children:"Base Cost per Analysis"}),(0,r.jsx)(d.p,{id:"baseCost",type:"number",step:"0.1",value:e.creditCostPerAnalysis.base,onChange:e=>s(s=>({...s,creditCostPerAnalysis:{...s.creditCostPerAnalysis,base:parseFloat(e.target.value)||0}}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"perFileCost",children:"Cost per File"}),(0,r.jsx)(d.p,{id:"perFileCost",type:"number",step:"0.01",value:e.creditCostPerAnalysis.perFile,onChange:e=>s(s=>({...s,creditCostPerAnalysis:{...s.creditCostPerAnalysis,perFile:parseFloat(e.target.value)||0}}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"perKBCost",children:"Cost per KB"}),(0,r.jsx)(d.p,{id:"perKBCost",type:"number",step:"0.001",value:e.creditCostPerAnalysis.perKB,onChange:e=>s(s=>({...s,creditCostPerAnalysis:{...s.creditCostPerAnalysis,perKB:parseFloat(e.target.value)||0}}))})]})]})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Usage Limits"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"dailyLimit",children:"Daily Analysis Limit (Free Users)"}),(0,r.jsx)(d.p,{id:"dailyLimit",type:"number",value:e.usageLimits.freeUserDailyLimit,onChange:e=>{s(s=>({...s,usageLimits:{...s.usageLimits,freeUserDailyLimit:parseInt(e.target.value)||0}})),E(!0)},className:T.dailyLimit?"border-red-500":""}),T.dailyLimit&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.dailyLimit})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"monthlyLimit",children:"Monthly Analysis Limit (Free Users)"}),(0,r.jsx)(d.p,{id:"monthlyLimit",type:"number",value:e.usageLimits.freeUserMonthlyLimit,onChange:e=>{s(s=>({...s,usageLimits:{...s.usageLimits,freeUserMonthlyLimit:parseInt(e.target.value)||0}})),E(!0)},className:T.monthlyLimit?"border-red-500":""}),T.monthlyLimit&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.monthlyLimit})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"maxRepoSize",children:"Max Repository Size (MB)"}),(0,r.jsx)(d.p,{id:"maxRepoSize",type:"number",value:e.usageLimits.maxRepositorySize,onChange:e=>{s(s=>({...s,usageLimits:{...s.usageLimits,maxRepositorySize:parseInt(e.target.value)||0}})),E(!0)},className:T.maxRepoSize?"border-red-500":""}),T.maxRepoSize&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.maxRepoSize})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"maxFiles",children:"Max Files per Repository"}),(0,r.jsx)(d.p,{id:"maxFiles",type:"number",value:e.usageLimits.maxFilesPerRepository,onChange:e=>{s(s=>({...s,usageLimits:{...s.usageLimits,maxFilesPerRepository:parseInt(e.target.value)||0}})),E(!0)},className:T.maxFiles?"border-red-500":""}),T.maxFiles&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.maxFiles})]})]})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Free Tier Configuration"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p,{id:"freeTierEnabled",checked:e.freeTierConfig.enabled,onCheckedChange:e=>{s(s=>({...s,freeTierConfig:{...s.freeTierConfig,enabled:e}})),E(!0)}}),(0,r.jsx)(o.J,{htmlFor:"freeTierEnabled",children:"Enable Free Tier"})]}),e.freeTierConfig.enabled&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"trialPeriod",children:"Trial Period (Days)"}),(0,r.jsx)(d.p,{id:"trialPeriod",type:"number",value:e.freeTierConfig.trialPeriodDays,onChange:e=>{s(s=>({...s,freeTierConfig:{...s.freeTierConfig,trialPeriodDays:parseInt(e.target.value)||0}})),E(!0)},className:T.trialPeriod?"border-red-500":""}),T.trialPeriod&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.trialPeriod})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"maxTrialAnalyses",children:"Max Analyses per Trial"}),(0,r.jsx)(d.p,{id:"maxTrialAnalyses",type:"number",value:e.freeTierConfig.maxAnalysesPerTrial,onChange:e=>{s(s=>({...s,freeTierConfig:{...s.freeTierConfig,maxAnalysesPerTrial:parseInt(e.target.value)||0}})),E(!0)},className:T.maxTrialAnalyses?"border-red-500":""}),T.maxTrialAnalyses&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.maxTrialAnalyses})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-6",children:[(0,r.jsx)(p,{id:"requireCreditCard",checked:e.freeTierConfig.requireCreditCard,onCheckedChange:e=>{s(s=>({...s,freeTierConfig:{...s.freeTierConfig,requireCreditCard:e}})),E(!0)},disabled:!e.freeTierConfig.enabled}),(0,r.jsx)(o.J,{htmlFor:"requireCreditCard",children:"Require Credit Card for Trial"})]})]})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Real-time Updates"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p,{id:"realTimeEnabled",checked:e.realTimeUpdates.enabled,onCheckedChange:e=>{s(s=>({...s,realTimeUpdates:{...s.realTimeUpdates,enabled:e}})),E(!0)}}),(0,r.jsx)(o.J,{htmlFor:"realTimeEnabled",children:"Enable Real-time Price Updates"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p,{id:"notifyUsers",checked:e.realTimeUpdates.notifyUsers,onCheckedChange:e=>{s(s=>({...s,realTimeUpdates:{...s.realTimeUpdates,notifyUsers:e}})),E(!0)},disabled:!e.realTimeUpdates.enabled}),(0,r.jsx)(o.J,{htmlFor:"notifyUsers",children:"Notify Users of Price Changes"})]}),e.realTimeUpdates.enabled&&(0,r.jsxs)(f.Fc,{children:[(0,r.jsx)(N.A,{className:"h-4 w-4"}),(0,r.jsx)(f.TN,{children:"Real-time updates will immediately affect all users. Existing user credits will not be affected."})]})]})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Credit Packages"}),(0,r.jsxs)(c.$,{onClick:()=>{let e={id:"package_".concat(Date.now()),name:"New Package",credits:100,price:999,description:""};s(s=>({...s,packages:[...s.packages,e]}))},size:"sm",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Add Package"]})]}),(0,r.jsx)("div",{className:"space-y-4",children:e.packages.map((e,a)=>(0,r.jsxs)(n.Zp,{className:"p-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-start",children:[(0,r.jsxs)("div",{className:"col-span-3",children:[(0,r.jsx)(o.J,{htmlFor:"pkg-name-".concat(a),children:"Package Name"}),(0,r.jsx)(d.p,{id:"pkg-name-".concat(a),value:e.name,onChange:e=>U(a,"name",e.target.value)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)(o.J,{htmlFor:"pkg-credits-".concat(a),children:"Credits"}),(0,r.jsx)(d.p,{id:"pkg-credits-".concat(a),type:"number",value:e.credits,onChange:e=>U(a,"credits",parseInt(e.target.value)||0)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)(o.J,{htmlFor:"pkg-price-".concat(a),children:"Price (cents)"}),(0,r.jsx)(d.p,{id:"pkg-price-".concat(a),type:"number",value:e.price,onChange:e=>U(a,"price",parseInt(e.target.value)||0)}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:M(e.price)})]}),(0,r.jsxs)("div",{className:"col-span-4",children:[(0,r.jsx)(o.J,{htmlFor:"pkg-desc-".concat(a),children:"Description"}),(0,r.jsx)(x,{id:"pkg-desc-".concat(a),value:e.description||"",onChange:e=>U(a,"description",e.target.value),rows:2})]}),(0,r.jsx)("div",{className:"col-span-1 flex items-end",children:(0,r.jsx)(c.$,{onClick:()=>{s(e=>({...e,packages:e.packages.filter((e,s)=>s!==a)}))},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})})]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)(h.E,{variant:"outline",children:[e.credits," credits"]}),(0,r.jsx)(h.E,{variant:"outline",children:M(e.price)}),(0,r.jsxs)(h.E,{variant:"outline",children:["$",(e.price/100/e.credits).toFixed(3),"/credit"]})]})]},e.id))})]}),Object.keys(T).length>0&&(0,r.jsxs)(f.Fc,{className:"border-red-200 bg-red-50",children:[(0,r.jsx)(N.A,{className:"h-4 w-4 text-red-600"}),(0,r.jsx)(f.TN,{className:"text-red-800",children:"Please fix the validation errors above before saving."})]}),R&&(0,r.jsxs)(f.Fc,{className:"border-yellow-200 bg-yellow-50",children:[(0,r.jsx)(N.A,{className:"h-4 w-4 text-yellow-600"}),(0,r.jsx)(f.TN,{className:"text-yellow-800",children:"You have unsaved changes. Don't forget to save your configuration."})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-green-600"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Configuration will take effect immediately for new purchases"})]}),(0,r.jsx)(c.$,{onClick:F,disabled:m||Object.keys(T).length>0,className:R?"bg-orange-600 hover:bg-orange-700":"",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.A,{className:"h-4 w-4 mr-2"}),R?"Save Changes":"Save Configuration"]})})]})]})]})})}var T=a(17037),P=a(11186),R=a(68695),E=a(94954),S=a(60709),F=a(89559),U=a(91169),M=a(50906),Z=a(78519),B=a(1524),L=a(64662);function I(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null),[d,o]=(0,l.useState)("30");(0,l.useEffect)(()=>{m()},[d]);let m=async()=>{try{t(!0);let e=await fetch("/api/admin/usage?days=".concat(d));if(!e.ok)throw Error("Failed to fetch usage statistics");let a=await e.json();s(a)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{t(!1)}};return a?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin"})}):i?(0,r.jsxs)("div",{className:"text-red-600",children:["Error: ",i]}):e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Usage Analytics"}),(0,r.jsxs)(P.l6,{value:d,onValueChange:o,children:[(0,r.jsx)(P.bq,{className:"w-[180px]",children:(0,r.jsx)(P.yv,{placeholder:"Select period"})}),(0,r.jsxs)(P.gC,{children:[(0,r.jsx)(P.eb,{value:"7",children:"Last 7 days"}),(0,r.jsx)(P.eb,{value:"30",children:"Last 30 days"}),(0,r.jsx)(P.eb,{value:"90",children:"Last 90 days"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,r.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.summary.totalUsers})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Active Users"}),(0,r.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.summary.activeUsers}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.period})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Transactions"}),(0,r.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.summary.totalTransactions}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.period})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Credits Used"}),(0,r.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.summary.totalCreditsUsed}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.period})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Credits Purchased"}),(0,r.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.summary.totalCreditsPurchased}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.period})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Recent Transactions"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(T.F,{className:"h-[400px]",children:(0,r.jsx)("div",{className:"space-y-3",children:e.recentTransactions.map(e=>{var s,a;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"PURCHASE":return(0,r.jsx)(R.A,{className:"h-4 w-4 text-green-600"});case"DEDUCTION":return(0,r.jsx)(E.A,{className:"h-4 w-4 text-red-600"});case"BONUS":return(0,r.jsx)(S.A,{className:"h-4 w-4 text-blue-600"});case"REFUND":return(0,r.jsx)(F.A,{className:"h-4 w-4 text-orange-600"});default:return(0,r.jsx)(R.A,{className:"h-4 w-4 text-gray-600"})}})(e.type),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:e.user.displayName||e.user.email}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,L.GP)(new Date(e.createdAt),"MMM d, h:mm a")})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium",children:(s=e.amount,a=e.type,"".concat("DEDUCTION"===a?"":"+").concat(s))}),(0,r.jsx)(h.E,{variant:"outline",className:"text-xs",children:e.type.toLowerCase()})]})]},e.id)})})})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"User Credit Balances"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(T.F,{className:"h-[400px]",children:(0,r.jsx)("div",{className:"space-y-3",children:e.userBalances.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:e.displayName||e.email}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Joined ",(0,L.GP)(new Date(e.createdAt),"MMM d, yyyy")]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-bold text-lg",children:e.creditBalance}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"credits"})]})]},e.id))})})})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Daily Usage Breakdown"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-muted-foreground border-b pb-2",children:[(0,r.jsx)("div",{children:"Date"}),(0,r.jsx)("div",{children:"Transactions"}),(0,r.jsx)("div",{children:"Credits Used"}),(0,r.jsx)("div",{children:"Credits Purchased"})]}),e.dailyUsage.slice(0,10).map((e,s)=>(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm py-2 border-b",children:[(0,r.jsx)("div",{children:(0,L.GP)(new Date(e.date),"MMM d")}),(0,r.jsx)("div",{children:e.transactions}),(0,r.jsx)("div",{children:e.creditsUsed}),(0,r.jsx)("div",{children:e.creditsPurchased})]},s))]})})]})]}):null}var D=a(51834),O=a(42529),W=a(6132),J=a(56154),q=a(86604),z=function(e){return e.OPENAI="OPENAI",e.GEMINI="GEMINI",e.CLAUDE="CLAUDE",e.QWEN="QWEN",e.OPENROUTER="OPENROUTER",e}({});let _={OPENAI:{baseUrl:"https://api.openai.com/v1",model:"gpt-4o",maxTokens:4096,temperature:.7,costPerToken:.03,capabilities:{maxTokens:128e3,supportedModels:["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo"],costPerToken:.03,supportsStreaming:!0,supportsVision:!0,rateLimit:{requestsPerMinute:500,tokensPerMinute:16e4}}},GEMINI:{baseUrl:"https://generativelanguage.googleapis.com/v1beta",model:"gemini-1.5-pro",maxTokens:8192,temperature:.7,costPerToken:.0035,capabilities:{maxTokens:2097152,supportedModels:["gemini-1.5-pro","gemini-1.5-flash","gemini-pro"],costPerToken:.0035,supportsStreaming:!0,supportsVision:!0,rateLimit:{requestsPerMinute:300,tokensPerMinute:32e3}}},CLAUDE:{baseUrl:"https://api.anthropic.com/v1",model:"claude-3-5-sonnet-20241022",maxTokens:8192,temperature:.7,costPerToken:.015,capabilities:{maxTokens:2e5,supportedModels:["claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-opus-20240229"],costPerToken:.015,supportsStreaming:!0,supportsVision:!0,rateLimit:{requestsPerMinute:50,tokensPerMinute:4e4}}},QWEN:{baseUrl:"https://dashscope.aliyuncs.com/api/v1",model:"qwen-turbo",maxTokens:6e3,temperature:.7,costPerToken:.002,capabilities:{maxTokens:3e4,supportedModels:["qwen-turbo","qwen-plus","qwen-max"],costPerToken:.002,supportsStreaming:!0,supportsVision:!1,rateLimit:{requestsPerMinute:100,tokensPerMinute:2e4}}},OPENROUTER:{baseUrl:"https://openrouter.ai/api/v1",model:"anthropic/claude-3.5-sonnet",maxTokens:4096,temperature:.7,costPerToken:.015,capabilities:{maxTokens:2e5,supportedModels:["anthropic/claude-3.5-sonnet","openai/gpt-4o","google/gemini-pro-1.5","meta-llama/llama-3.1-405b-instruct"],costPerToken:.015,supportsStreaming:!0,supportsVision:!0,rateLimit:{requestsPerMinute:200,tokensPerMinute:4e4}}}};function $(e){let{organizationId:s}=e,[a,t]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),[u,j]=(0,l.useState)(!1),[p,f]=(0,l.useState)(null),[g,N]=(0,l.useState)({});(0,l.useEffect)(()=>{w()},[]);let w=async()=>{try{d(!0);let e=await fetch("/api/admin/ai-providers");if(!e.ok)throw Error("Failed to fetch AI provider configurations");let s=await e.json();t(s.configs)}catch(e){x(e instanceof Error?e.message:"Unknown error")}finally{d(!1)}},C=async e=>{try{let s=await fetch("/api/admin/ai-providers/".concat(e,"/test"),{method:"POST"}),a=await s.json();N(s=>({...s,[e]:a}))}catch(s){N(s=>({...s,[e]:{success:!1,error:"Test failed"}}))}},A=async e=>{if(confirm("Are you sure you want to delete this AI provider configuration?"))try{if(!(await fetch("/api/admin/ai-providers/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete AI provider configuration");await w()}catch(e){x(e instanceof Error?e.message:"Failed to delete configuration")}};return i?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})}):m?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center text-red-600",children:[(0,r.jsx)(W.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,r.jsx)("p",{children:m}),(0,r.jsx)(c.$,{onClick:w,className:"mt-4",children:"Retry"})]})})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"AI Provider Configuration"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Configure and manage AI providers for repository analysis"})]}),(0,r.jsxs)(D.lG,{open:u,onOpenChange:j,children:[(0,r.jsx)(D.zM,{asChild:!0,children:(0,r.jsxs)(c.$,{children:[(0,r.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add Provider"]})}),(0,r.jsx)(D.Cf,{className:"max-w-2xl",children:(0,r.jsx)(G,{onSuccess:()=>{j(!1),w()},onCancel:()=>j(!1)})})]})]}),0===a.length?(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"p-12 text-center",children:[(0,r.jsx)(y.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No AI Providers Configured"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first AI provider to start analyzing repositories"}),(0,r.jsxs)(c.$,{onClick:()=>j(!0),children:[(0,r.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add First Provider"]})]})}):(0,r.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-2xl",children:(e=>{switch(e){case z.OPENAI:return"\uD83E\uDD16";case z.GEMINI:return"\uD83D\uDC8E";case z.CLAUDE:return"\uD83E\uDDE0";case z.QWEN:return"\uD83D\uDC09";case z.OPENROUTER:return"\uD83D\uDD00";default:return"⚡"}})(e.provider)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{children:e.name}),(e=>{let s=g[e.id];return s?s.success?(0,r.jsxs)(h.E,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,r.jsx)(O.A,{className:"w-3 h-3 mr-1"}),"Connected"]}):(0,r.jsxs)(h.E,{variant:"destructive",children:[(0,r.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Error"]}):e.isEnabled?(0,r.jsxs)(h.E,{variant:"secondary",children:[(0,r.jsx)(J.A,{className:"w-3 h-3 mr-1"}),"Enabled"]}):(0,r.jsx)(h.E,{variant:"outline",children:"Disabled"})})(e)]}),(0,r.jsxs)(n.BT,{children:[e.provider," • Priority: ",e.priority," • Model: ",e.model||"Default"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>C(e.id),children:[(0,r.jsx)(q.A,{className:"w-4 h-4 mr-1"}),"Test"]}),(0,r.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>f(e),children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,r.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>A(e.id),children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{className:"text-xs text-gray-500",children:"Base URL"}),(0,r.jsx)("p",{className:"truncate",children:e.baseUrl||"Default"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{className:"text-xs text-gray-500",children:"Max Tokens"}),(0,r.jsx)("p",{children:e.maxTokens||"Default"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{className:"text-xs text-gray-500",children:"Temperature"}),(0,r.jsx)("p",{children:e.temperature||"Default"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{className:"text-xs text-gray-500",children:"Cost per 1K Tokens"}),(0,r.jsxs)("p",{children:["$",e.costPerToken||"Default"]})]})]}),g[e.id]&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Test Result:"}),(0,r.jsx)("span",{className:g[e.id].success?"text-green-600":"text-red-600",children:g[e.id].success?"Success":"Failed"})]}),g[e.id].latency&&(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Latency: ",g[e.id].latency,"ms"]}),g[e.id].error&&(0,r.jsxs)("div",{className:"text-xs text-red-600 mt-1",children:["Error: ",g[e.id].error]})]})]})]},e.id))}),p&&(0,r.jsx)(D.lG,{open:!!p,onOpenChange:()=>f(null),children:(0,r.jsx)(D.Cf,{className:"max-w-2xl",children:(0,r.jsx)(G,{config:p,onSuccess:()=>{f(null),w()},onCancel:()=>f(null)})})})]})}function G(e){var s;let{config:a,onSuccess:t,onCancel:i}=e,[n,m]=(0,l.useState)({provider:(null==a?void 0:a.provider)||z.OPENAI,name:(null==a?void 0:a.name)||"",apiKey:"",baseUrl:(null==a?void 0:a.baseUrl)||"",model:(null==a?void 0:a.model)||"",maxTokens:(null==a?void 0:a.maxTokens)||void 0,temperature:(null==a?void 0:a.temperature)||.7,isEnabled:null==(s=null==a?void 0:a.isEnabled)||s,priority:(null==a?void 0:a.priority)||1,costPerToken:(null==a?void 0:a.costPerToken)||void 0}),[x,h]=(0,l.useState)(!1),[u,j]=(0,l.useState)(null),f=async e=>{e.preventDefault(),h(!0),j(null);let s=(()=>{let e=[];return n.name.trim()||e.push("Configuration name is required"),a||n.apiKey.trim()||e.push("API key is required"),n.maxTokens&&n.maxTokens<=0&&e.push("Max tokens must be greater than 0"),(n.temperature<0||n.temperature>2)&&e.push("Temperature must be between 0 and 2"),n.priority<=0&&e.push("Priority must be greater than 0"),n.costPerToken&&n.costPerToken<0&&e.push("Cost per token cannot be negative"),e})();if(s.length>0){j(s.join(", ")),h(!1);return}try{let e=a?"/api/admin/ai-providers/".concat(a.id):"/api/admin/ai-providers",s=a?"PUT":"POST",r=await fetch(e,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to save configuration")}t()}catch(e){j(e instanceof Error?e.message:"Unknown error")}finally{h(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.c7,{children:[(0,r.jsx)(D.L3,{children:a?"Edit AI Provider":"Add AI Provider"}),(0,r.jsx)(D.rr,{children:"Configure an AI provider for repository analysis"})]}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[u&&(0,r.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:u}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"provider",children:"Provider"}),(0,r.jsxs)(P.l6,{value:n.provider,onValueChange:e=>(e=>{let s=_[e];m(a=>({...a,provider:e,baseUrl:s.baseUrl||"",model:s.model||"",maxTokens:s.maxTokens,temperature:s.temperature||.7,costPerToken:s.costPerToken}))})(e),disabled:!!a,children:[(0,r.jsx)(P.bq,{children:(0,r.jsx)(P.yv,{})}),(0,r.jsx)(P.gC,{children:Object.values(z).map(e=>(0,r.jsx)(P.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"name",children:"Configuration Name"}),(0,r.jsx)(d.p,{id:"name",value:n.name,onChange:e=>m(s=>({...s,name:e.target.value})),placeholder:"e.g., Production OpenAI",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"apiKey",children:"API Key"}),(0,r.jsx)(d.p,{id:"apiKey",type:"password",value:n.apiKey,onChange:e=>m(s=>({...s,apiKey:e.target.value})),placeholder:a?"Leave empty to keep current key":"Enter API key",required:!a})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"baseUrl",children:"Base URL"}),(0,r.jsx)(d.p,{id:"baseUrl",value:n.baseUrl,onChange:e=>m(s=>({...s,baseUrl:e.target.value})),placeholder:"API base URL"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"model",children:"Model"}),(0,r.jsx)(d.p,{id:"model",value:n.model,onChange:e=>m(s=>({...s,model:e.target.value})),placeholder:"Model name"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"maxTokens",children:"Max Tokens"}),(0,r.jsx)(d.p,{id:"maxTokens",type:"number",value:n.maxTokens||"",onChange:e=>m(s=>({...s,maxTokens:e.target.value?parseInt(e.target.value):void 0})),placeholder:"4096"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"temperature",children:"Temperature"}),(0,r.jsx)(d.p,{id:"temperature",type:"number",step:"0.1",min:"0",max:"2",value:n.temperature,onChange:e=>m(s=>({...s,temperature:parseFloat(e.target.value)}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"priority",children:"Priority"}),(0,r.jsx)(d.p,{id:"priority",type:"number",min:"1",value:n.priority,onChange:e=>m(s=>({...s,priority:parseInt(e.target.value)}))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"costPerToken",children:"Cost per 1000 Tokens ($)"}),(0,r.jsx)(d.p,{id:"costPerToken",type:"number",step:"0.001",min:"0",value:n.costPerToken||"",onChange:e=>m(s=>({...s,costPerToken:e.target.value?parseFloat(e.target.value):void 0})),placeholder:"0.03"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p,{id:"isEnabled",checked:n.isEnabled,onCheckedChange:e=>m(s=>({...s,isEnabled:e}))}),(0,r.jsx)(o.J,{htmlFor:"isEnabled",children:"Enable this provider"})]}),(0,r.jsxs)(D.Es,{children:[(0,r.jsx)(c.$,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,r.jsx)(c.$,{type:"submit",disabled:x,children:x?"Saving...":a?"Update":"Create"})]})]})]})}var K=a(85710),V=a(86651);function X(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[m,x]=(0,l.useState)(""),[j,p]=(0,l.useState)([]),[f,g]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!0);(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/baseline/stats");if(e.ok){let a=await e.json();s(a.statistics)}}catch(e){console.error("Error fetching baseline stats:",e)}finally{N(!1)}},b=async()=>{t(!0),o(null);try{let e=await fetch("/api/baseline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update"})}),s=await e.json();e.ok?(o("✅ ".concat(s.message)),await v()):o("❌ Error: ".concat(s.error))}catch(e){o("❌ Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{t(!1)}},w=async()=>{if(m.trim()){g(!0);try{let e=await fetch("/api/baseline/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:m,limit:5})});if(e.ok){let s=await e.json();p(s.results)}}catch(e){console.error("Error searching baseline data:",e)}finally{g(!1)}}},C=e=>{switch(e){case"baseline":return"bg-green-100 text-green-800";case"limited":return"bg-yellow-100 text-yellow-800";case"not-baseline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return y?(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(K.A,{className:"h-5 w-5"}),"Baseline Data Management"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(F.A,{className:"h-6 w-6 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading baseline data..."})]})})]}):(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(K.A,{className:"h-5 w-5"}),"Baseline Data Management"]}),(0,r.jsx)(n.BT,{children:"Manage web platform baseline data used for repository analysis"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,r.jsx)(B.A,{className:"h-4 w-4"}),"Statistics"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.total}),(0,r.jsx)("div",{className:"text-sm text-blue-600",children:"Total Features"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.byStatus.baseline||0}),(0,r.jsx)("div",{className:"text-sm text-green-600",children:"Baseline Features"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.byStatus.limited||0}),(0,r.jsx)("div",{className:"text-sm text-yellow-600",children:"Limited Support"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Status Distribution"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.byStatus).map(e=>{let[s,a]=e;return(0,r.jsxs)(h.E,{className:C(s),children:[s,": ",a]},s)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Category Distribution"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.byCategory).map(e=>{let[s,a]=e;return(0,r.jsxs)(h.E,{variant:"outline",children:[s,": ",a]},s)})})]})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Update Baseline Data"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Fetch the latest baseline data from web.dev and update the vector database."}),(0,r.jsxs)(c.$,{onClick:b,disabled:a,className:"flex items-center gap-2",children:[(0,r.jsx)(F.A,{className:"h-4 w-4 ".concat(a?"animate-spin":"")}),a?"Updating...":"Update Baseline Data"]}),i&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:(0,r.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:i})})]}),(0,r.jsx)(u.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,r.jsx)(V.A,{className:"h-4 w-4"}),"Search Baseline Data"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Test the vector similarity search functionality."}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,r.jsx)(d.p,{placeholder:"Enter search query (e.g., 'fetch API', 'CSS grid')",value:m,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&w()}),(0,r.jsx)(c.$,{onClick:w,disabled:f||!m.trim(),children:f?"Searching...":"Search"})]}),j.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Search Results"}),j.map((e,s)=>(0,r.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsx)("h5",{className:"font-medium",children:e.feature.feature}),(0,r.jsxs)(h.E,{variant:"outline",children:[(100*e.similarity).toFixed(1),"% match"]})]}),(0,r.jsxs)("div",{className:"flex gap-2 mb-2",children:[e.feature.category&&(0,r.jsx)(h.E,{variant:"secondary",children:e.feature.category}),e.feature.status&&(0,r.jsx)(h.E,{className:C(e.feature.status),children:e.feature.status})]}),e.feature.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.feature.description}),e.feature.documentation&&(0,r.jsx)("a",{href:e.feature.documentation,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Documentation →"})]},s))]})]})]})]})})}var Q=a(80991),Y=a(13406),H=a(26983),ee=a(34172),es=a(95707),ea=a(20523),er=a(14639);function et(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(null),[i,d]=(0,l.useState)(!0),[o,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{j();let e=setInterval(j,3e4);return()=>clearInterval(e)},[]);let j=async()=>{try{m(!0);let[e,a]=await Promise.all([fetch("/api/admin/system/health"),fetch("/api/admin/system/metrics")]);if(!e.ok||!a.ok)throw Error("Failed to fetch system data");let[r,i]=await Promise.all([e.json(),a.json()]);s(r),t(i),u(null)}catch(e){u(e instanceof Error?e.message:"Unknown error")}finally{d(!1),m(!1)}},p=e=>{switch(e){case"up":case"healthy":return"text-green-600 bg-green-100";case"warning":case"degraded":return"text-yellow-600 bg-yellow-100";case"down":case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=e=>{switch(e){case"up":case"healthy":return(0,r.jsx)(O.A,{className:"h-4 w-4"});case"warning":case"degraded":return(0,r.jsx)(N.A,{className:"h-4 w-4"});case"down":case"critical":return(0,r.jsx)(W.A,{className:"h-4 w-4"});default:return(0,r.jsx)(H.A,{className:"h-4 w-4"})}},y=e=>{let s=Math.floor(e/86400),a=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return"".concat(s,"d ").concat(a,"h ").concat(r,"m")},v=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(1)," ").concat(["B","KB","MB","GB","TB"][s])};return i?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin mr-2"}),"Loading system monitoring data..."]})})}):x?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center text-red-600",children:[(0,r.jsx)(W.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,r.jsx)("p",{children:x}),(0,r.jsx)(c.$,{onClick:j,className:"mt-4",children:"Retry"})]})})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"System Monitoring"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Real-time system health and performance metrics"})]}),(0,r.jsxs)(c.$,{onClick:j,disabled:o,variant:"outline",size:"sm",children:[(0,r.jsx)(F.A,{className:"h-4 w-4 mr-2 ".concat(o?"animate-spin":"")}),"Refresh"]})]}),(0,r.jsxs)(Y.tU,{defaultValue:"overview",className:"w-full",children:[(0,r.jsxs)(Y.j7,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(Y.Xi,{value:"overview",children:"Overview"}),(0,r.jsx)(Y.Xi,{value:"services",children:"Services"}),(0,r.jsx)(Y.Xi,{value:"performance",children:"Performance"}),(0,r.jsx)(Y.Xi,{value:"alerts",children:"Alerts"})]}),(0,r.jsxs)(Y.av,{value:"overview",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"System Status"}),(0,r.jsx)(ee.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[e&&f(e.status),(0,r.jsx)(h.E,{className:e?p(e.status):"",children:(null==e?void 0:e.status)||"Unknown"})]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Uptime"}),(0,r.jsx)(H.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:e?y(e.performance.uptime):"N/A"})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Requests/Min"}),(0,r.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.performance.requestsPerMinute)||0})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Error Rate"}),(0,r.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:e?"".concat((100*e.performance.errorRate).toFixed(2),"%"):"N/A"})})]})]}),a&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"CPU Usage"}),(0,r.jsx)(es.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[a.cpu.usage.toFixed(1),"%"]}),(0,r.jsx)(Q.k,{value:a.cpu.usage,className:"h-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[a.cpu.cores," cores"]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Memory Usage"}),(0,r.jsx)(ea.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[a.memory.usage.toFixed(1),"%"]}),(0,r.jsx)(Q.k,{value:a.memory.usage,className:"h-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v(a.memory.used)," / ",v(a.memory.total)]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Disk Usage"}),(0,r.jsx)(K.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[a.disk.usage.toFixed(1),"%"]}),(0,r.jsx)(Q.k,{value:a.disk.usage,className:"h-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v(a.disk.used)," / ",v(a.disk.total)]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Network I/O"}),(0,r.jsx)(er.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"In:"}),(0,r.jsxs)("span",{children:[v(a.network.inbound),"/s"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Out:"}),(0,r.jsxs)("span",{children:[v(a.network.outbound),"/s"]})]})]})})]})]})]}),(0,r.jsx)(Y.av,{value:"services",className:"space-y-4",children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(K.A,{className:"h-5 w-5"}),"Database"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[f(e.services.database.status),(0,r.jsx)(h.E,{className:p(e.services.database.status),children:e.services.database.status})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),(0,r.jsxs)("p",{className:"font-medium",children:[e.services.database.responseTime,"ms"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connections"}),(0,r.jsxs)("p",{className:"font-medium",children:[e.services.database.connections," / ",e.services.database.maxConnections]}),(0,r.jsx)(Q.k,{value:e.services.database.connections/e.services.database.maxConnections*100,className:"h-2 mt-1"})]})]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(J.A,{className:"h-5 w-5"}),"AI Providers"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.services.aiProviders.map((e,s)=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[f(e.status),(0,r.jsx)("span",{className:"font-medium",children:e.name})]}),(0,r.jsx)("div",{children:(0,r.jsx)(h.E,{className:p(e.status),children:e.status})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),(0,r.jsxs)("p",{className:"font-medium",children:[e.responseTime,"ms"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),(0,r.jsxs)("p",{className:"font-medium",children:[(100*e.errorRate).toFixed(2),"%"]})]})]},s))})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(ea.A,{className:"h-5 w-5"}),"Storage"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[f(e.services.storage.status),(0,r.jsx)(h.E,{className:p(e.services.storage.status),children:e.services.storage.status})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Usage"}),(0,r.jsxs)("p",{className:"font-medium",children:[v(e.services.storage.usage)," / ",v(e.services.storage.capacity)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Usage Percentage"}),(0,r.jsxs)("p",{className:"font-medium",children:[(e.services.storage.usage/e.services.storage.capacity*100).toFixed(1),"%"]}),(0,r.jsx)(Q.k,{value:e.services.storage.usage/e.services.storage.capacity*100,className:"h-2 mt-1"})]})]})})]})]})}),(0,r.jsx)(Y.av,{value:"performance",className:"space-y-4",children:e&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Response Time"})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[e.performance.avgResponseTime,"ms"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average response time across all endpoints"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Request Rate"})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold mb-2",children:e.performance.requestsPerMinute}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requests per minute"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Error Rate"})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[(100*e.performance.errorRate).toFixed(2),"%"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Percentage of failed requests"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"System Uptime"})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold mb-2",children:y(e.performance.uptime)}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time since last restart"})]})]})]})}),(0,r.jsx)(Y.av,{value:"alerts",className:"space-y-4",children:e&&(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"System Alerts"})}),(0,r.jsx)(n.Wu,{children:0===e.alerts.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(O.A,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Active Alerts"}),(0,r.jsx)("p",{className:"text-gray-600",children:"All systems are operating normally"})]}):(0,r.jsx)("div",{className:"space-y-3",children:e.alerts.map(e=>(0,r.jsx)("div",{className:"p-4 border rounded-lg ".concat(e.resolved?"bg-gray-50 border-gray-200":"error"===e.level?"bg-red-50 border-red-200":"warning"===e.level?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:["error"===e.level&&(0,r.jsx)(W.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),"warning"===e.level&&(0,r.jsx)(N.A,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),"info"===e.level&&(0,r.jsx)(M.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.message}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]})]}),(0,r.jsx)(h.E,{variant:e.resolved?"secondary":"destructive",children:e.resolved?"Resolved":"Active"})]})},e.id))})})]})})]})]})}var ei=a(17910),el=a(80534),en=a(78192),ec=a(23664),ed=a(22544),eo=a(33602),em=a(54879),ex=a(87358);let eh=em.Ik({email:em.Yj().email("Invalid email address")});function eu(){let[e,s]=(0,l.useState)(!1),[a,t]=(0,l.useState)(null),{register:i,handleSubmit:m,formState:{errors:x}}=(0,ed.mN)({resolver:(0,eo.u)(eh)}),h=async e=>{s(!0),t(null);try{let s=await fetch("/api/admin/email/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed to send test email");t({success:!0,message:"Test email sent successfully! Check your inbox."})}catch(e){t({success:!1,message:e instanceof Error?e.message:"Failed to send test email"})}finally{s(!1)}},u=(ex.env.NEXT_PUBLIC_SENDGRID_CONFIGURED,!0);return(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(ec.A,{className:"h-5 w-5"}),"Email Configuration"]}),(0,r.jsx)(n.BT,{children:"Configure and test email service for invitation notifications"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:"Configuration Status"}),(0,r.jsx)("div",{className:"grid gap-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(u?"bg-green-500":"bg-red-500")}),(0,r.jsx)("span",{className:"text-sm",children:"SendGrid API Key"})]}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:u?"Configured":"Not configured"})]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:"Required Environment Variables"}),(0,r.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,r.jsxs)("code",{className:"text-xs",children:["SENDGRID_API_KEY=your_sendgrid_api_key",(0,r.jsx)("br",{}),"SENDGRID_FROM_EMAIL=noreply@your-domain.com",(0,r.jsx)("br",{}),"SENDGRID_FROM_NAME=Baseline Analyzer"]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:"Test Email Configuration"}),(0,r.jsxs)("form",{onSubmit:m(h),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"email",children:"Test Email Address"}),(0,r.jsx)(d.p,{id:"email",type:"email",placeholder:"test@example.com",...i("email")}),x.email&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:x.email.message})]}),(0,r.jsx)(c.$,{type:"submit",disabled:e||!u,children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"h-4 w-4 animate-spin mr-2"}),"Sending Test Email..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ec.A,{className:"h-4 w-4 mr-2"}),"Send Test Email"]})})]}),a&&(0,r.jsxs)(f.Fc,{className:a.success?"border-green-200":"border-red-200",children:[a.success?(0,r.jsx)(O.A,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(W.A,{className:"h-4 w-4 text-red-600"}),(0,r.jsx)(f.TN,{className:a.success?"text-green-800":"text-red-800",children:a.message})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:"Setup Instructions"}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground space-y-2",children:[(0,r.jsxs)("p",{children:["1. Create a SendGrid account at ",(0,r.jsx)("a",{href:"https://sendgrid.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"sendgrid.com"})]}),(0,r.jsx)("p",{children:"2. Generate an API key in your SendGrid dashboard"}),(0,r.jsx)("p",{children:"3. Add the environment variables to your deployment"}),(0,r.jsx)("p",{children:"4. Verify your sender domain in SendGrid"}),(0,r.jsx)("p",{children:"5. Test the configuration using the form above"})]})]})]})]})}var ej=a(78874),ep=a(18720);function ef(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[o,m]=(0,l.useState)([]),[x,u]=(0,l.useState)([]);(0,l.useEffect)(()=>{j()},[]);let j=async()=>{try{d(!0);let e=await fetch("/api/admin/retry/statistics");if(e.ok){let a=await e.json();s(a)}let a=await fetch("/api/admin/retry/failed-analyses");if(a.ok){let e=await a.json();t(e.analyses)}}catch(e){ep.toast.error("Failed to load retry data")}finally{d(!1)}},p=async e=>{try{m(s=>[...s,e]);let s=await fetch("/api/admin/retry/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisIds:[e]})});if(!s.ok){let e=await s.json();throw Error(e.error||"Retry failed")}ep.toast.success("Analysis retry initiated"),await j()}catch(e){ep.toast.error(e instanceof Error?e.message:"Retry failed")}finally{m(s=>s.filter(s=>s!==e))}},y=async()=>{if(0===x.length)return void ep.toast.error("Please select analyses to retry");try{m(e=>[...e,...x]);let e=await fetch("/api/admin/retry/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisIds:x})});if(!e.ok){let s=await e.json();throw Error(s.error||"Bulk retry failed")}let s=await e.json();ep.toast.success("Retried ".concat(s.successful," analyses successfully")),s.failed>0&&ep.toast.warning("".concat(s.failed," analyses could not be retried")),u([]),await j()}catch(e){ep.toast.error(e instanceof Error?e.message:"Bulk retry failed")}finally{m([])}},N=e=>new Date(e).toLocaleString();return i?(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsx)(g.A,{className:"h-8 w-8 animate-spin"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Retry Management"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Monitor and manage failed analysis retries"})]}),(0,r.jsxs)(c.$,{onClick:j,variant:"outline",children:[(0,r.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,r.jsxs)(Y.tU,{defaultValue:"statistics",className:"w-full",children:[(0,r.jsxs)(Y.j7,{children:[(0,r.jsx)(Y.Xi,{value:"statistics",children:"Statistics"}),(0,r.jsx)(Y.Xi,{value:"failed-analyses",children:"Failed Analyses"})]}),(0,r.jsx)(Y.av,{value:"statistics",className:"space-y-4",children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Retries"}),(0,r.jsx)(F.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.totalRetries})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Successful Retries"}),(0,r.jsx)(O.A,{className:"h-4 w-4 text-green-600"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.successfulRetries})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Failed Retries"}),(0,r.jsx)(ej.A,{className:"h-4 w-4 text-red-600"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.failedRetries})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg Retry Count"}),(0,r.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.averageRetryCount.toFixed(1)})})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(el.A,{className:"h-5 w-5"}),"Retry Reasons"]}),(0,r.jsx)(n.BT,{children:"Common reasons for analysis failures and retries"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(e.retryReasons).sort((e,s)=>{let[,a]=e,[,r]=s;return r-a}).map(s=>{let[a,t]=s;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm",children:a}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-24 bg-muted rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:"".concat(t/Math.max(...Object.values(e.retryReasons))*100,"%")}})}),(0,r.jsx)("span",{className:"text-sm font-medium w-8 text-right",children:t})]})]},a)})})})]})]})}),(0,r.jsxs)(Y.av,{value:"failed-analyses",className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.$,{onClick:()=>{u(a.filter(e=>e.isRetryable).map(e=>e.id))},variant:"outline",size:"sm",children:"Select All Retryable"}),x.length>0&&(0,r.jsx)(c.$,{onClick:y,disabled:o.length>0,size:"sm",children:o.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Retrying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"Retry Selected (",x.length,")"]})})]})}),(0,r.jsxs)("div",{className:"space-y-3",children:[a.map(e=>(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>{var s;return s=e.id,void u(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},disabled:!e.isRetryable,className:"rounded"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.repositoryUrl}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Failed: ",N(e.createdAt)]}),e.lastError&&(0,r.jsx)("div",{className:"text-sm text-red-600 mt-1",children:e.lastError})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"text-right text-sm",children:[(0,r.jsxs)("div",{children:["Retries: ",e.retryCount,"/",e.maxRetries]}),e.nextRetryAt&&(0,r.jsxs)("div",{className:"text-muted-foreground",children:["Next: ",N(e.nextRetryAt)]})]}),e.isRetryable?(0,r.jsx)(h.E,{variant:"secondary",children:"Retryable"}):(0,r.jsx)(h.E,{variant:"destructive",children:"Max Retries Exceeded"}),(0,r.jsx)(c.$,{onClick:()=>p(e.id),disabled:!e.isRetryable||o.includes(e.id),size:"sm",variant:"outline",children:o.includes(e.id)?(0,r.jsx)(g.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(F.A,{className:"h-4 w-4"})})]})]})})},e.id)),0===a.length&&(0,r.jsxs)(f.Fc,{children:[(0,r.jsx)(O.A,{className:"h-4 w-4"}),(0,r.jsx)(f.TN,{children:"No failed analyses found. All analyses are either completed or in progress."})]})]})]})]})]})}var eg=a(52277);function ey(){let{}=(0,eg.A)();return(0,r.jsx)(t.O,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsx)(i.V,{}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)(ei.A,{className:"h-8 w-8"}),(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),(0,r.jsxs)(Y.tU,{defaultValue:"monitoring",className:"w-full",children:[(0,r.jsxs)(Y.j7,{className:"grid w-full grid-cols-7",children:[(0,r.jsxs)(Y.Xi,{value:"monitoring",className:"flex items-center gap-2",children:[(0,r.jsx)(ei.A,{className:"h-4 w-4"}),"System Monitoring"]}),(0,r.jsxs)(Y.Xi,{value:"analytics",className:"flex items-center gap-2",children:[(0,r.jsx)(el.A,{className:"h-4 w-4"}),"Usage Analytics"]}),(0,r.jsxs)(Y.Xi,{value:"pricing",className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),"Pricing Configuration"]}),(0,r.jsxs)(Y.Xi,{value:"ai-providers",className:"flex items-center gap-2",children:[(0,r.jsx)(en.A,{className:"h-4 w-4"}),"AI Providers"]}),(0,r.jsxs)(Y.Xi,{value:"baseline-data",className:"flex items-center gap-2",children:[(0,r.jsx)(K.A,{className:"h-4 w-4"}),"Baseline Data"]}),(0,r.jsxs)(Y.Xi,{value:"email",className:"flex items-center gap-2",children:[(0,r.jsx)(ec.A,{className:"h-4 w-4"}),"Email Config"]}),(0,r.jsxs)(Y.Xi,{value:"retry",className:"flex items-center gap-2",children:[(0,r.jsx)(F.A,{className:"h-4 w-4"}),"Retry Management"]})]}),(0,r.jsx)(Y.av,{value:"monitoring",className:"space-y-4",children:(0,r.jsx)(et,{})}),(0,r.jsx)(Y.av,{value:"analytics",className:"space-y-4",children:(0,r.jsx)(I,{})}),(0,r.jsx)(Y.av,{value:"pricing",className:"space-y-4",children:(0,r.jsx)(k,{})}),(0,r.jsx)(Y.av,{value:"ai-providers",className:"space-y-4",children:(0,r.jsx)($,{organizationId:"default"})}),(0,r.jsx)(Y.av,{value:"baseline-data",className:"space-y-4",children:(0,r.jsx)(X,{})}),(0,r.jsx)(Y.av,{value:"email",className:"space-y-4",children:(0,r.jsx)(eu,{})}),(0,r.jsx)(Y.av,{value:"retry",className:"space-y-4",children:(0,r.jsx)(ef,{})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Admin Features"})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,r.jsx)("p",{children:"This admin dashboard provides comprehensive management capabilities:"}),(0,r.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"System Monitoring"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Real-time system health and performance metrics"}),(0,r.jsx)("li",{children:"Monitor database, AI providers, and storage status"}),(0,r.jsx)("li",{children:"Track CPU, memory, disk, and network usage"}),(0,r.jsx)("li",{children:"View system alerts and uptime statistics"}),(0,r.jsx)("li",{children:"Performance monitoring with response times and error rates"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Usage Analytics"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Monitor user activity and credit consumption"}),(0,r.jsx)("li",{children:"View transaction history across the organization"}),(0,r.jsx)("li",{children:"Track daily usage patterns and trends"}),(0,r.jsx)("li",{children:"Analyze user credit balances and spending"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Pricing Configuration"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Configure credit packages and pricing with validation"}),(0,r.jsx)("li",{children:"Set free tier limits and usage restrictions"}),(0,r.jsx)("li",{children:"Adjust credit cost calculation parameters"}),(0,r.jsx)("li",{children:"Real-time pricing updates with user notifications"}),(0,r.jsx)("li",{children:"Advanced free tier configuration and trial management"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"AI Provider Configuration"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Configure multiple AI providers (OpenAI, Gemini, Claude, Qwen, OpenRouter)"}),(0,r.jsx)("li",{children:"Set up API keys and provider-specific settings with validation"}),(0,r.jsx)("li",{children:"Configure provider priority and failover logic"}),(0,r.jsx)("li",{children:"Test provider connections and monitor performance"}),(0,r.jsx)("li",{children:"Manage cost per token and usage optimization"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Baseline Data Management"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Manage web platform baseline data for analysis"}),(0,r.jsx)("li",{children:"Update baseline data from web.dev automatically"}),(0,r.jsx)("li",{children:"Search and test vector similarity functionality"}),(0,r.jsx)("li",{children:"Monitor baseline data statistics and distribution"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Email Configuration"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Configure SendGrid email service for notifications"}),(0,r.jsx)("li",{children:"Test email delivery and template rendering"}),(0,r.jsx)("li",{children:"Manage sender identity and domain verification"}),(0,r.jsx)("li",{children:"Monitor email delivery status and failures"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Retry Management"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Monitor failed analysis retries and success rates"}),(0,r.jsx)("li",{children:"Manually trigger retries for failed analyses"}),(0,r.jsx)("li",{children:"View retry statistics and failure patterns"}),(0,r.jsx)("li",{children:"Configure automatic retry policies and limits"})]})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:"Access Control:"})," This dashboard is only accessible to users with admin role within an organization."]})})]})]})]})]})})})})}},80991:(e,s,a)=>{"use strict";a.d(s,{k:()=>n});var r=a(95155),t=a(12115),i=a(9484),l=a(64269);let n=t.forwardRef((e,s)=>{let{className:a,value:t,...n}=e;return(0,r.jsx)(i.bL,{ref:s,className:(0,l.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...n,children:(0,r.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});n.displayName=i.bL.displayName},86259:(e,s,a)=>{"use strict";a.d(s,{w:()=>n});var r=a(95155),t=a(12115),i=a(57268),l=a(64269);let n=t.forwardRef((e,s)=>{let{className:a,orientation:t="horizontal",decorative:n=!0,...c}=e;return(0,r.jsx)(i.b,{ref:s,decorative:n,orientation:t,className:(0,l.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...c})});n.displayName=i.b.displayName}},e=>{e.O(0,[135,965,17,545,619,295,799,346,908,624,362,22,441,696,358],()=>e(e.s=29141)),_N_E=e.O()}]);