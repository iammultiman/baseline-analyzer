(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{3468:(e,s,t)=>{"use strict";t.d(s,{A:()=>n,q:()=>i});var r=t(12115),a=t(95155);function i(e,s){let t=r.createContext(s),i=e=>{let{children:s,...i}=e,n=r.useMemo(()=>i,Object.values(i));return(0,a.jsx)(t.Provider,{value:n,children:s})};return i.displayName=e+"Provider",[i,function(a){let i=r.useContext(t);if(i)return i;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function n(e,s=[]){let t=[],i=()=>{let s=t.map(e=>r.createContext(e));return function(t){let a=t?.[e]||s;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(s,i){let n=r.createContext(i),l=t.length;t=[...t,i];let c=s=>{let{scope:t,children:i,...c}=s,o=t?.[e]?.[l]||n,d=r.useMemo(()=>c,Object.values(c));return(0,a.jsx)(o.Provider,{value:d,children:i})};return c.displayName=s+"Provider",[c,function(t,a){let c=a?.[e]?.[l]||n,o=r.useContext(c);if(o)return o;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((s,{useScope:t,scopeName:r})=>{let a=t(e)[`__scope${r}`];return{...s,...a}},{});return r.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return t.scopeName=s.scopeName,t}(i,...s)]}},3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var r=t(95155),a=t(12115),i=t(32467),n=t(83101),l=t(64269);let c=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:o=!1,...d}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:a,size:n,className:t})),ref:s,...d})});o.displayName="Button"},9484:(e,s,t)=>{"use strict";t.d(s,{C1:()=>b,bL:()=>j});var r=t(12115),a=t(3468),i=t(97602),n=t(95155),l="Progress",[c,o]=(0,a.A)(l),[d,u]=c(l),m=r.forwardRef((e,s)=>{var t,r,a,l;let{__scopeProgress:c,value:o=null,max:u,getValueLabel:m=h,...x}=e;(u||0===u)&&!v(u)&&console.error((t="".concat(u),r="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let p=v(u)?u:100;null===o||g(o,p)||console.error((a="".concat(o),l="Progress","Invalid prop `value` of value `".concat(a,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=g(o,p)?o:null,b=y(j)?m(j,p):void 0;return(0,n.jsx)(d,{scope:c,value:j,max:p,children:(0,n.jsx)(i.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":y(j)?j:void 0,"aria-valuetext":b,role:"progressbar","data-state":f(j,p),"data-value":null!=j?j:void 0,"data-max":p,...x,ref:s})})});m.displayName=l;var x="ProgressIndicator",p=r.forwardRef((e,s)=>{var t;let{__scopeProgress:r,...a}=e,l=u(x,r);return(0,n.jsx)(i.sG.div,{"data-state":f(l.value,l.max),"data-value":null!=(t=l.value)?t:void 0,"data-max":l.max,...a,ref:s})});function h(e,s){return"".concat(Math.round(e/s*100),"%")}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function y(e){return"number"==typeof e}function v(e){return y(e)&&!isNaN(e)&&e>0}function g(e,s){return y(e)&&!isNaN(e)&&e<=s&&e>=0}p.displayName=x;var j=m,b=p},11647:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(95155);t(12115);var a=t(83101),i=t(64269);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:t}),s),...a})}},26983:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},35299:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35795:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},39324:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},39332:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},39867:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},42529:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},42988:(e,s,t)=>{Promise.resolve().then(t.bind(t,68653))},57774:(e,s,t)=>{"use strict";t.d(s,{q:()=>a});var r=t(12115);function a(){let[e,s]=(0,r.useState)(!1),[t,a]=(0,r.useState)(null),[i,n]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[g,j]=(0,r.useState)(!1),b=(0,r.useCallback)(async e=>{s(!0),a(null);try{let s=await fetch("/api/repositories/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}),t=await s.json();if(!t.success)throw Error(t.error||"Validation failed");return t.data}catch(s){let e=s instanceof Error?s.message:"Validation failed";return a(e),{isValid:!1,error:e}}finally{s(!1)}},[]),N=(0,r.useCallback)(async e=>{n(!0),c(null);try{let s=await fetch("/api/repositories/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}),t=await s.json();if(!t.success)throw Error(t.error||"Processing failed");return t.data.jobId}catch(e){return c(e instanceof Error?e.message:"Processing failed"),null}finally{n(!1)}},[]),w=(0,r.useCallback)(async e=>{d(!0),m(null);try{let s=await fetch("/api/repositories/status/".concat(e)),t=await s.json();if(!t.success)throw Error(t.error||"Failed to get job status");return t.data}catch(e){return m(e instanceof Error?e.message:"Failed to get job status"),null}finally{d(!1)}},[]),k=(0,r.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";p(!0),f(null);try{let t="/api/repositories/result/".concat(e).concat("llm"===s?"?format=llm":""),r=await fetch(t);if("llm"===s){if(!r.ok)throw Error("Failed to get LLM-formatted result");return await r.text()}{let e=await r.json();if(!e.success)throw Error(e.error||"Failed to get job result");return e.data}}catch(e){return f(e instanceof Error?e.message:"Failed to get job result"),null}finally{p(!1)}},[]),A=(0,r.useCallback)((e,s)=>{y&&clearInterval(y),j(!0);let t=async()=>{try{let t=await w(e);(null==t?void 0:t.job)&&(s(t.job),("completed"===t.job.status||"failed"===t.job.status)&&C())}catch(e){console.error("Polling error:",e)}};t(),v(setInterval(t,2e3))},[y,w]),C=(0,r.useCallback)(()=>{y&&(clearInterval(y),v(null)),j(!1)},[y]);return(0,r.useEffect)(()=>()=>{y&&clearInterval(y)},[y]),{validateRepository:b,validationLoading:e,validationError:t,processRepository:N,processingLoading:i,processingError:l,getJobStatus:w,jobStatusLoading:o,jobStatusError:u,getJobResult:k,resultLoading:x,resultError:h,startPolling:A,stopPolling:C,isPolling:g}}},57828:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},64269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var r=t(2821),a=t(75889);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},65142:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(95155),a=t(12115),i=t(64269);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});n.displayName="Input"},68653:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(95155),a=t(12115),i=t(3998),n=t(65142),l=t(86948),c=t(11647),o=t(57774),d=t(94684),u=t(35299),m=t(78874),x=t(42529),p=t(39332),h=t(99708),f=t(35795);function y(e){let{onProcessingStarted:s}=e,[t,y]=(0,a.useState)(""),[v,g]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),{validateRepository:N,validationLoading:w,validationError:k,processRepository:A,processingLoading:C,processingError:P}=(0,o.q)(),S=async()=>{t.trim()&&(g(await N(t.trim())),b(!0))},E=async()=>{if(!(null==v?void 0:v.isValid))return;let e=await A(t.trim());e&&s&&s(e)},R=t.trim().length>0,M=(null==v?void 0:v.isValid)&&!C;return(0,r.jsxs)(l.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),"Repository Analysis"]}),(0,r.jsx)(l.BT,{children:"Enter a GitHub or GitLab repository URL to analyze against web platform baseline standards"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.p,{placeholder:"https://github.com/username/repository",value:t,onChange:e=>{y(e.target.value),g(null),b(!1)},className:"flex-1"}),(0,r.jsx)(i.$,{onClick:S,disabled:!(R&&!w),variant:"outline",children:w?(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin"}):"Validate"})]}),k&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),k]}),j&&v&&(0,r.jsxs)("div",{className:"space-y-3",children:[v.isValid?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-600 bg-green-50 p-3 rounded-md",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Repository is valid and accessible"]}):(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),v.error]}),v.repositoryInfo&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md space-y-2",children:[(0,r.jsx)("h4",{className:"font-medium text-sm",children:"Repository Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"font-medium",children:[v.repositoryInfo.owner,"/",v.repositoryInfo.name]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:v.repositoryInfo.branch||"main"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[v.repositoryInfo.isPrivate?(0,r.jsx)(h.A,{className:"h-4 w-4 text-red-500"}):(0,r.jsx)(f.A,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)(c.E,{variant:v.repositoryInfo.isPrivate?"destructive":"secondary",children:v.repositoryInfo.isPrivate?"Private":"Public"})]}),v.repositoryInfo.size&&(0,r.jsxs)("div",{className:"text-gray-600",children:["Size: ",v.repositoryInfo.size," KB"]})]})]})]}),P&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),P]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(i.$,{onClick:E,disabled:!M,className:"min-w-32",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin mr-2"}),"Processing..."]}):"Start Analysis"})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsx)("p",{children:"• Only public GitHub and GitLab repositories are supported"}),(0,r.jsx)("p",{children:"• Analysis focuses on web platform baseline compatibility"}),(0,r.jsx)("p",{children:"• Processing may take 30-60 seconds depending on repository size"})]})]})]})}var v=t(80991),g=t(26983),j=t(91169),b=t(39867),N=t(57828),w=t(39324);function k(e){let{jobId:s,onCompleted:t,onError:n}=e,[d,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[y,k]=(0,a.useState)(0),{getJobStatus:A,getJobResult:C,startPolling:P,stopPolling:S,isPolling:E,resultLoading:R}=(0,o.q)();(0,a.useEffect)(()=>{let e=e=>{switch(p(e),e.status){case"pending":k(10);break;case"processing":k(50);break;case"completed":k(100),t&&t(e);break;case"failed":k(0),n&&e.error&&n(e.error)}};return P(s,e),A(s).then(s=>{s&&(p(s.job),f(s.queue),e(s.job))}),()=>{S()}},[s,P,S,A,t,n]);let M=async e=>{if(!d||"completed"!==d.status)return;let t=await C(s,e);if(t){let s=new Blob(["string"==typeof t?t:JSON.stringify(t,null,2)],{type:"llm"===e?"text/plain":"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download="".concat(d.repositoryUrl.split("/").pop(),"-").concat(e,".").concat("llm"===e?"txt":"json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}};return d?(0,r.jsxs)(l.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{if(!d)return(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin"});switch(d.status){case"pending":return(0,r.jsx)(g.A,{className:"h-4 w-4 text-yellow-500"});case"processing":return(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin text-blue-500"});case"completed":return(0,r.jsx)(x.A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,r.jsx)(m.A,{className:"h-4 w-4 text-red-500"});default:return(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin"})}})(),"Repository Processing"]}),(()=>{if(!d)return(0,r.jsx)(c.E,{variant:"secondary",children:"Loading..."});switch(d.status){case"pending":return(0,r.jsx)(c.E,{variant:"secondary",children:"Pending"});case"processing":return(0,r.jsx)(c.E,{variant:"default",children:"Processing"});case"completed":return(0,r.jsx)(c.E,{variant:"default",className:"bg-green-500",children:"Completed"});case"failed":return(0,r.jsx)(c.E,{variant:"destructive",children:"Failed"});default:return(0,r.jsx)(c.E,{variant:"secondary",children:"Unknown"})}})()]}),(0,r.jsx)(l.BT,{children:d.repositoryUrl})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Progress"}),(0,r.jsxs)("span",{children:[y,"%"]})]}),(0,r.jsx)(v.k,{value:y,className:"w-full"})]}),h&&"pending"===d.status&&(0,r.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-md space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Queue Position"]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Position"}),(0,r.jsx)("div",{className:"font-medium",children:h.position})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Total in Queue"}),(0,r.jsx)("div",{className:"font-medium",children:h.totalInQueue})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Est. Wait Time"}),(0,r.jsxs)("div",{className:"font-medium",children:[Math.ceil(h.estimatedWaitTime/60),"m"]})]})]})]}),"processing"===d.status&&(0,r.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin"}),"Processing repository content..."]}),(0,r.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:"This may take a few minutes depending on repository size"})]}),"completed"===d.status&&d.result&&(0,r.jsxs)("div",{className:"bg-green-50 p-3 rounded-md space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-green-700",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Processing completed successfully"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Files Processed"}),(0,r.jsx)("div",{className:"font-medium",children:d.result.metadata.fileCount})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Total Size"}),(0,r.jsxs)("div",{className:"font-medium",children:[(d.result.metadata.totalSize/1024).toFixed(1)," KB"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Processing Time"}),(0,r.jsxs)("div",{className:"font-medium",children:[(d.result.metadata.processingTime/1e3).toFixed(1),"s"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600",children:"Extracted At"}),(0,r.jsx)("div",{className:"font-medium",children:new Date(d.result.metadata.extractedAt).toLocaleTimeString()})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,r.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>M("json"),disabled:R,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Download JSON"]}),(0,r.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>M("llm"),disabled:R,children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"Download LLM Format"]})]})]}),"failed"===d.status&&(0,r.jsxs)("div",{className:"bg-red-50 p-3 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-red-700",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"Processing failed"]}),d.error&&(0,r.jsx)("div",{className:"text-sm text-red-600 mt-1",children:d.error})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Started: ",d.createdAt.toLocaleString()]})]}),"pending"!==d.status&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Duration: ",((e,s)=>{let t=Math.floor(((s||new Date).getTime()-e.getTime())/1e3);return t<60?"".concat(t,"s"):t<3600?"".concat(Math.floor(t/60),"m ").concat(t%60,"s"):"".concat(Math.floor(t/3600),"h ").concat(Math.floor(t%3600/60),"m")})(d.createdAt,d.updatedAt)]})]}),(0,r.jsxs)("div",{children:["Job ID: ",d.id]})]})]})]}):(0,r.jsx)(l.Zp,{className:"w-full max-w-2xl mx-auto",children:(0,r.jsxs)(l.Wu,{className:"flex items-center justify-center p-6",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 animate-spin mr-2"}),"Loading job status..."]})})}function A(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)([]);return(0,r.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Repository Analysis Demo"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Test the repository processing pipeline by submitting a GitHub or GitLab repository URL. The system will validate, process, and convert the repository for AI analysis."})]}),e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(k,{jobId:e,onCompleted:e=>{i(s=>[...s,e.id])},onError:e=>{console.error("Job processing error:",e)}}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{onClick:()=>{s(null)},className:"text-blue-600 hover:text-blue-800 underline",children:"Start New Analysis"})})]}):(0,r.jsx)(y,{onProcessingStarted:e=>{s(e)}}),t.length>0&&(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Completed Analyses"}),(0,r.jsx)(l.BT,{children:"Previous repository analyses from this session"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"space-y-2",children:t.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,r.jsx)("span",{className:"text-sm font-mono",children:e}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["Analysis #",s+1]})]},e))})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"How It Works"})}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"1. Repository Validation"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Validates the repository URL format and checks if the repository is publicly accessible via GitHub or GitLab APIs."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"2. Content Extraction"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Uses GitIngest API to extract and process repository content, filtering for web-relevant files and excluding build artifacts."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"3. LLM Formatting"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Converts the extracted content into an optimized format for AI analysis, including analysis instructions and context."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"4. Queue Management"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Manages processing jobs in a queue with real-time status updates and progress tracking."})]})]})})]})]})}},78874:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},80991:(e,s,t)=>{"use strict";t.d(s,{k:()=>l});var r=t(95155),a=t(12115),i=t(9484),n=t(64269);let l=a.forwardRef((e,s)=>{let{className:t,value:a,...l}=e;return(0,r.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...l,children:(0,r.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});l.displayName=i.bL.displayName},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>l});var r=t(95155),a=t(12115),i=t(64269);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},91169:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},94684:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},97602:(e,s,t)=>{"use strict";t.d(s,{hO:()=>c,sG:()=>l});var r=t(12115),a=t(47650),i=t(32467),n=t(95155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,i.TL)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a?t:s,{...i,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function c(e,s){e&&a.flushSync(()=>e.dispatchEvent(s))}},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[545,441,696,358],()=>e(e.s=42988)),_N_E=e.O()}]);